<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portal de empleo</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

  <script>
    // Inicializar Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyDGovK0SAHMZ6ZXE1V_5DGp5xzNG9LeTcU",
      authDomain: "formulario-7280b.firebaseapp.com",
      databaseURL: "https://formulario-7280b-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "formulario-7280b",
      storageBucket: "formulario-7280b.firebasestorage.app",
      messagingSenderId: "274436337945",
      appId: "1:274436337945:web:cf1e7dccb3d105f385d588",
      measurementId: "G-4R4K2D85KE"
    };
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    // Función para agregar una oferta de empleo
    function agregarOferta() {
      const titulo = document.getElementById('tituloOferta').value.trim();
      const descripcion = document.getElementById('descripcionOferta').value.trim();
      const tipo = document.getElementById('tipoOferta').value.trim();
      const sector = document.getElementById('sectorOferta').value.trim();
      const experiencia = document.getElementById('experienciaOferta').value.trim();
      const ubicacion = document.getElementById('ubicacionOferta').value.trim();
      const salario = document.getElementById('salarioOferta').value.trim();

      // Verificar si todos los campos están completos
      if (!titulo || !descripcion || !tipo || !sector || !experiencia || !ubicacion || !salario) {
        alert("Por favor, completa todos los campos antes de enviar la oferta.");
        return;
      }

      // Referencia a la colección de ofertas
      const ofertasRef = database.ref('ofertas');
      ofertasRef.push({
        titulo: titulo,
        descripcion: descripcion,
        tipo: tipo,
        sector: sector,
        experiencia: experiencia,
        ubicacion: ubicacion,
        salario: salario,
      });

      alert("La oferta ha sido registrada correctamente. ¡Gracias!");

      // Opcional: Reiniciar el formulario
      document.getElementById('tituloOferta').value = '';
      document.getElementById('descripcionOferta').value = '';
      document.getElementById('tipoOferta').value = 'Tiempo completo';
      document.getElementById('sectorOferta').value = 'Tech';
      document.getElementById('experienciaOferta').value = 'Menos de 1 año';
      document.getElementById('ubicacionOferta').value = 'Valencia';
      document.getElementById('salarioOferta').value = '';
    }

    // Función para agregar una demanda de empleo
    function agregarDemanda() {
      const nombre = document.getElementById('nombre').value.trim();
      const sector = document.getElementById('sector').value.trim();
      const tipo = document.getElementById('tipoDemanda').value.trim();
      const experiencia = document.getElementById('experienciaDemanda').value.trim();
      const ubicacion = document.getElementById('ubicacionDemanda').value.trim();

      // Verificar si todos los campos están completos
      if (!nombre || !sector || !tipo || !experiencia || !ubicacion) {
        alert("Por favor, completa todos los campos antes de enviar el formulario.");
        return;
      }

      // Referencia a la colección de demandas
      const demandasRef = database.ref('demandas');
      demandasRef.push({
        nombre: nombre,
        sector: sector,
        tipo: tipo,
        experiencia: experiencia,
        ubicacion: ubicacion,
      });

      alert("La solicitud ha sido registrada correctamente. ¡Gracias y buena suerte!");

      // Reiniciar el formulario
      document.getElementById('nombre').value = '';
      document.getElementById('sector').value = 'Tech';
      document.getElementById('tipoDemanda').value = 'Tiempo completo';
      document.getElementById('experienciaDemanda').value = 'Menos de 1 año';
      document.getElementById('ubicacionDemanda').value = 'Valencia';
    }

  </script>
</head>

<body class="bg-dark">
  <app-root></app-root>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
</body>

</html>